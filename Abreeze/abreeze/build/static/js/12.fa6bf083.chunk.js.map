{"version":3,"sources":["examples/markdown/navigation.jsx","examples/markdown/show.jsx"],"names":["Link","getAnchorList","str","list","replace","$0","$1","title","href","concat","pushItem","arr","item","matchItem","length","tag","children","push","Navigation","_ref","article","react_default","a","createElement","es_anchor","affix","map","renderLink","_ref2","key","sub","Show","state","markdownText","anchors","_this2","this","axios","get","then","res","setState","content","onClick","handleClick","className","navigation","dangerouslySetInnerHTML","__html","Component"],"mappings":"wLAEQA,WAGR,SAASC,EAAcC,GACrB,IACIC,EAAO,GAsBX,OAXAD,EAAIE,QAZY,+BAYK,SAACC,EAAIC,GACxB,IAAMC,EAAQF,EAAGD,QAAQ,OAAQ,IAC3BI,EAAI,IAAAC,OAAOF,EAAMH,QAAQ,MAAO,OAZxC,SAASM,EAASC,EAAKC,GACrB,IACMC,EAAYF,EADNA,EAAIG,OACY,GACxBD,GAAaA,EAAUE,MAAQH,EAAKG,IACtCL,EAASG,EAAUG,SAAUJ,GAE7BD,EAAIM,KAAKL,GAaXF,CAASP,EANW,CAClBY,IAAKT,EACLC,QACAC,OACAQ,SAAU,OAIPb,EAGT,IAYee,EAZI,SAAAC,GAAiB,IAC5BhB,EAAOF,EADqBkB,EAAdC,SASpB,OAAOC,EAAAC,EAAAC,cAAAC,EAAA,GAAQC,OAAO,GAAQtB,EAAKuB,IAPnC,SAASC,EAATC,GAA+C,IAAzBpB,EAAyBoB,EAAzBpB,KAAMD,EAAmBqB,EAAnBrB,MAAOS,EAAYY,EAAZZ,SACjC,OACEK,EAAAC,EAAAC,cAACvB,EAAD,CAAM6B,IAAKrB,EAAMA,KAAMA,EAAMD,MAAOA,GACjCS,EAASF,OAAS,GAAKE,EAASU,IAAI,SAAAI,GAAG,OAAIH,EAAWG,UCjCzDC,6MACJC,MAAQ,CAAEC,aAAc,GAAIC,QAAS,uFAEjB,IAAAC,EAAAC,KAClBC,IAAMC,IAAI,gBAAgBC,KAAK,SAAAC,GAC7BL,EAAKM,SAAS,CAAER,aAAcO,EAAIE,6CAI7B,IACCT,EAAiBG,KAAKJ,MAAtBC,aACR,OACEZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQoB,QAASP,KAAKQ,aAAtB,SACAvB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,QACbxB,EAAAC,EAAAC,cAACuB,EAAD,CAAY1B,QAASa,KAGvBZ,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,iBAAiBE,wBAAyB,CAAEC,OAAQZ,KAAKJ,MAAMC,gBAE9EZ,EAAAC,EAAAC,cAAA,KAAGf,KAAK,MAAR,cApBWyC,aA0BJlB","file":"static/js/12.fa6bf083.chunk.js","sourcesContent":["import React from 'react'\nimport { Anchor } from 'antd'\nconst { Link } = Anchor\n\n// 根据 article 来生成锚点列表\nfunction getAnchorList(str) {\n  const pattern = /<(h[1-6])[\\s\\S]+?(?=<\\/\\1>)/g\n  let list = []\n  function pushItem(arr, item) {\n    const len = arr.length\n    const matchItem = arr[len - 1]\n    if (matchItem && matchItem.tag !== item.tag) {\n      pushItem(matchItem.children, item)\n    } else {\n      arr.push(item)\n      // debugger\n    }\n  }\n  str.replace(pattern, ($0, $1) => {\n    const title = $0.replace(/.*?>/, '')\n    const href = `#${title.replace(/\\s/g, '-')}` // 转化为锚地可跳转的路径\n    const currentItem = {\n      tag: $1, // 标签类型\n      title,\n      href,\n      children: []\n    }\n    pushItem(list, currentItem)\n  })\n  return list\n}\n\nconst Navigation = ({ article }) => {\n  const list = getAnchorList(article)\n  function renderLink({ href, title, children }) {\n    return (\n      <Link key={href} href={href} title={title}>\n        {children.length > 0 && children.map(sub => renderLink(sub))}\n      </Link>\n    )\n  }\n  return <Anchor affix={false}>{list.map(renderLink)}</Anchor>\n}\n\nexport default Navigation\n","import React, { Component } from 'react'\nimport axios from '@/lib/axios'\nimport Navigation from './navigation'\n\nclass Show extends Component {\n  state = { markdownText: '', anchors: [] }\n\n  componentDidMount() {\n    axios.get('/examples/md').then(res => {\n      this.setState({ markdownText: res.content })\n    })\n  }\n\n  render() {\n    const { markdownText } = this.state\n    return (\n      <div>\n        <button onClick={this.handleClick}>click</button>\n        <div className=\"test\">\n          <Navigation article={markdownText} />\n        </div>\n\n        <div className=\"article-detail\" dangerouslySetInnerHTML={{ __html: this.state.markdownText }} />\n\n        <a href=\"#a\">aa</a>\n      </div>\n    )\n  }\n}\n\nexport default Show\n"],"sourceRoot":""}